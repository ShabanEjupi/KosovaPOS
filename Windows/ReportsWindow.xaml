<Window x:Class="KosovaPOS.Windows.ReportsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        Title="Raportet" Height="700" Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundColor}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Style="{StaticResource ModernCard}" Margin="0,0,0,20">
            <Grid>
                <StackPanel>
                    <TextBlock Text="ðŸ“ˆ Raportet fiskale dhe financiare" FontSize="28" FontWeight="Bold" 
                               Foreground="{StaticResource PrimaryColor}"/>
                    <TextBlock Text="Raportet e detajuara pÃ«r biznesin tuaj - Gjeneruar mÃ«:" FontSize="14" 
                               Foreground="{StaticResource TextSecondary}" Margin="0,5,0,0"/>
                    <TextBlock x:Name="LastUpdatedText" Text="{Binding Source={x:Static System:DateTime.Now}, StringFormat='dd/MM/yyyy HH:mm'}" 
                               FontSize="14" FontWeight="SemiBold"
                               Foreground="{StaticResource PrimaryColor}" Margin="0,2,0,0"/>
                </StackPanel>
                <Button Content="ðŸ”„ Rifresko" 
                        HorizontalAlignment="Right" VerticalAlignment="Center"
                        Style="{StaticResource ModernButton}"
                        Background="{StaticResource SuccessColor}"
                        Foreground="White"
                        Width="120"
                        Click="Refresh_Click"/>
            </Grid>
        </Border>
        
        <!-- Reports Grid -->
        <ScrollViewer Grid.Row="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Financial Reports -->
                <Border Grid.Row="0" Style="{StaticResource ModernCard}" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ’° Raportet financiare" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Sales Summary -->
                            <Border Grid.Column="0" Background="#4CAF50" CornerRadius="15" Padding="25" Margin="0,0,10,20"
                                    Effect="{StaticResource CardShadow}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                                        <TextBlock Text="ï¿½" FontSize="28" Margin="0,0,10,0"/>
                                        <TextBlock Text="Shitjet" FontSize="20" FontWeight="Bold" 
                                                   Foreground="White" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Sot:" Foreground="White"/>
                                        <TextBlock x:Name="TodaySalesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Kjo javÃ«:" Foreground="White"/>
                                        <TextBlock x:Name="WeekSalesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Ky muaj:" Foreground="White"/>
                                        <TextBlock x:Name="MonthSalesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <TextBlock Text="Ky vit:" Foreground="White"/>
                                        <TextBlock x:Name="YearSalesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Button Content="ðŸ“„ Detajet" Style="{StaticResource ModernButton}"
                                            Click="SalesDetails_Click" Margin="0,15,0,0"
                                            Background="White" Foreground="{StaticResource SuccessColor}"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Purchases Summary -->
                            <Border Grid.Column="1" Background="#9C27B0" CornerRadius="15" Padding="25" Margin="10,0,0,20"
                                    Effect="{StaticResource CardShadow}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                                        <TextBlock Text="ðŸ›’" FontSize="28" Margin="0,0,10,0"/>
                                        <TextBlock Text="Blerjet" FontSize="20" FontWeight="Bold" 
                                                   Foreground="White" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Sot:" Foreground="White"/>
                                        <TextBlock x:Name="TodayPurchasesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Kjo javÃ«:" Foreground="White"/>
                                        <TextBlock x:Name="WeekPurchasesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,0,0,10">
                                        <TextBlock Text="Ky muaj:" Foreground="White"/>
                                        <TextBlock x:Name="MonthPurchasesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <TextBlock Text="Ky vit:" Foreground="White"/>
                                        <TextBlock x:Name="YearPurchasesText" Text="0.00 â‚¬" Foreground="White" 
                                                   HorizontalAlignment="Right" FontWeight="Bold"/>
                                    </Grid>
                                    
                                    <Button Content="ðŸ“„ Detajet" Style="{StaticResource ModernButton}"
                                            Click="PurchasesDetails_Click" Margin="0,15,0,0"
                                            Background="White" Foreground="{StaticResource PrimaryColor}"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                        
                        <!-- Profit Analysis -->
                        <Border Background="#2196F3" CornerRadius="15" Padding="25"
                                Effect="{StaticResource CardShadow}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                                    <TextBlock Text="ðŸ’Ž" FontSize="28" Margin="0,0,10,0"/>
                                    <TextBlock Text="Analiza e fitimit" FontSize="20" FontWeight="Bold" 
                                               Foreground="White" VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                        <TextBlock Text="Shitjet totale" Foreground="White" FontSize="12" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="TotalRevenueText" Text="0.00 â‚¬" Foreground="White" 
                                                   FontWeight="Bold" FontSize="20"/>
                                    </StackPanel>
                                    
                                    <StackPanel Grid.Column="1" Margin="0,0,20,0">
                                        <TextBlock Text="Blerjet totale" Foreground="White" FontSize="12" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="TotalCostText" Text="0.00 â‚¬" Foreground="White" 
                                                   FontWeight="Bold" FontSize="20"/>
                                    </StackPanel>
                                    
                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="Fitimi neto" Foreground="White" FontSize="12" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="NetProfitText" Text="0.00 â‚¬" Foreground="White" 
                                                   FontWeight="Bold" FontSize="20"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
                
                <!-- Stock and Tax Reports -->
                <Border Grid.Row="1" Style="{StaticResource ModernCard}">
                    <StackPanel>
                        <TextBlock Text="ðŸ“¦ Raportet e stoqit dhe TVSH" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Stock Value -->
                            <Border Grid.Column="0" Grid.Row="0" Background="#FF9800" CornerRadius="10" 
                                    Padding="20" Margin="0,0,10,10">
                                <StackPanel>
                                    <TextBlock Text="ðŸ’°" FontSize="32" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Vlera e stoqit" FontSize="14" Foreground="White" 
                                               HorizontalAlignment="Center" Margin="0,10,0,5"/>
                                    <TextBlock x:Name="StockValueText" Text="0.00 â‚¬" FontSize="18" FontWeight="Bold" 
                                               Foreground="White" HorizontalAlignment="Center"/>
                                    <Button Content="ðŸ“Š Shiko detajet" Style="{StaticResource ModernButton}"
                                            Click="StockReport_Click" Margin="0,10,0,0"
                                            Background="White" Foreground="{StaticResource WarningColor}"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- VAT Report -->
                            <Border Grid.Column="1" Grid.Row="0" Background="#00BCD4" CornerRadius="10" 
                                    Padding="20" Margin="0,0,10,10">
                                <StackPanel>
                                    <TextBlock Text="ðŸ“„" FontSize="32" HorizontalAlignment="Center"/>
                                    <TextBlock Text="TVSH pÃ«r pagesÃ«" FontSize="14" Foreground="White" 
                                               HorizontalAlignment="Center" Margin="0,10,0,5"/>
                                    <TextBlock x:Name="VATPayableText" Text="0.00 â‚¬" FontSize="18" FontWeight="Bold" 
                                               Foreground="White" HorizontalAlignment="Center"/>
                                    <Button Content="ðŸ“Š Raporti TVSH" Style="{StaticResource ModernButton}"
                                            Click="VATReport_Click" Margin="0,10,0,0"
                                            Background="White" Foreground="{StaticResource PrimaryColor}"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Top Products -->
                            <Border Grid.Column="2" Grid.Row="0" Background="#E91E63" CornerRadius="10" 
                                    Padding="20" Margin="0,0,0,10">
                                <StackPanel>
                                    <TextBlock Text="â­" FontSize="32" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Artikujt mÃ« tÃ« shitur" FontSize="14" Foreground="White" 
                                               HorizontalAlignment="Center" Margin="0,10,0,5"/>
                                    <TextBlock x:Name="TopProductCountText" Text="0 artikuj" FontSize="18" FontWeight="Bold" 
                                               Foreground="White" HorizontalAlignment="Center"/>
                                    <Button Content="ðŸ“Š Shiko listÃ«n" Style="{StaticResource ModernButton}"
                                            Click="TopProducts_Click" Margin="0,10,0,0"
                                            Background="White" Foreground="{StaticResource AccentColor}"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Low Stock -->
                            <Border Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="3" 
                                    Background="#F44336" CornerRadius="10" Padding="20" Margin="0,0,0,0">
                                <StackPanel>
                                    <Grid>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                            <TextBlock Text="âš ï¸" FontSize="24" Margin="0,0,10,0"/>
                                            <StackPanel>
                                                <TextBlock Text="Artikujt me stok tÃ« ulÃ«t" FontSize="16" 
                                                           FontWeight="Bold" Foreground="White"/>
                                                <TextBlock x:Name="LowStockCountText" Text="0 artikuj kanÃ« stok tÃ« ulÃ«t" 
                                                           FontSize="12" Foreground="White" Margin="0,5,0,0"/>
                                            </StackPanel>
                                        </StackPanel>
                                        <Button Content="ðŸ“‹ Shiko listÃ«n" Style="{StaticResource ModernButton}"
                                                Click="LowStockReport_Click" HorizontalAlignment="Right"
                                                Background="White" Foreground="{StaticResource DangerColor}"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>
        
        <!-- Footer -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <Button Content="ðŸ–¨ï¸ Printo raportin ditor" Style="{StaticResource ModernButton}"
                        Click="PrintDailySalesReport_Click" Width="200" Margin="0,0,10,0"
                        Background="{StaticResource PrimaryColor}"/>
                <Button Content="ðŸ–¨ï¸ Printo raportin mujor" Style="{StaticResource ModernButton}"
                        Click="PrintMonthlySalesReport_Click" Width="200"
                        Background="{StaticResource PrimaryColor}"/>
            </StackPanel>
            <Button Content="ðŸšª Mbyll" Style="{StaticResource ModernButton}"
                    Click="Close_Click" Width="120" HorizontalAlignment="Right"
                    Background="{StaticResource DangerColor}"/>
        </Grid>
    </Grid>
</Window>
